import{M as d,T as m,a as u,A as g,D as a,L as p}from"./vendor.11e4763b.js";const y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};y();const f="pk.eyJ1IjoiY2hlZWF1biIsImEiOiJja3VsNTNvdm0xZTZkMnBuNjFwenVnZ256In0.O7gPe1raOok_uEgY-pCL4g";mapboxgl.accessToken=f;const n=window._map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11?optimize=true",minZoom:8,renderWorldCopies:!1,hash:!0,center:[103.857897,1.285844],pitch:60,zoom:15.5,bearing:-30,customAttribution:['<a href="https://www.sla.gov.sg/">\xA9\uFE0F <abbr title="Singapore Land Authority">SLA</abbr></a> <a href="https://www.onemap.gov.sg/legal/termsofuse.html">\xA9\uFE0F OneMap</a>']});n.addControl(new mapboxgl.NavigationControl);const l=new d({id:"buildings-3d",type:m,data:"optimized-tiles/tileset.json",loader:u,opacity:.8,_subLayerProps:{scenegraph:{getColor:[228,226,226]}},loadOptions:{tileset:{maximumMemoryUsage:1,viewDistanceScale:.5,updateTransforms:!1,maximumScreenSpaceError:1}}}),b=new g({intensity:8}),h=new a({color:[228,226,226],intensity:6,direction:[0,-1,.1]}),L=new a({color:[228,226,226],intensity:2,direction:[0,1,.1]}),w=new p({ambientLight:b,directionalLight1:h,directionalLight2:L});n.once("styledata",()=>{const r=n.getStyle().layers.find(o=>o.type=="symbol"&&o.layout["text-field"]).id;n.addLayer({id:"sky",type:"sky"});const i=()=>{n.addLayer(l,r),n.setLayerZoomRange("buildings-3d",13,22.1),l.deck.setProps({effects:[w]})};document.getElementById("start-button").onclick=o=>{o.preventDefault(),i(),document.getElementById("warning").remove(),sessionStorage.setItem("started",!0)},sessionStorage.getItem("started")&&(document.getElementById("warning").remove(),i())});
